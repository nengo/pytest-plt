
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>pytest-plt &#8212; pytest-plt 1.1.0 docs</title>
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,400i,600|Rajdhani:700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
<link rel="stylesheet" href="https://www.nengo.ai/css/bootstrap.css" type="text/css">
<style>
  body .title-bar,
  body .documentation-source h1:after {
    background-color: #a8acaf;
  }
</style>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GT8XEDLTMJ"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());
 gtag('config', 'G-GT8XEDLTMJ');
</script>
<!-- End Google tag (gtag.js) -->

<!-- Matomo -->
<script>
 var _paq = window._paq = window._paq || [];
 _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
 _paq.push(["setCookieDomain", "*.appliedbrainresearch.com"]);
 _paq.push(["setDomains", ["*.appliedbrainresearch.com","*.edge.nengo.ai","*.forum.nengo.ai","*.labs.nengo.ai","*.nengo.ai"]]);
 _paq.push(["enableCrossDomainLinking"]);
 _paq.push(["setDoNotTrack", true]);
 _paq.push(['trackPageView']);
 _paq.push(['enableLinkTracking']);
 (function() {
   var u="https://appliedbrainresearch.matomo.cloud/";
   _paq.push(['setTrackerUrl', u+'matomo.php']);
   _paq.push(['setSiteId', '3']);
   var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
   g.async=true; g.src='//cdn.matomo.cloud/appliedbrainresearch.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
 })();
</script>
<!-- End Matomo Code -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://unpkg.com/scrollreveal"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stickyfill/2.1.0/stickyfill.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
<!-- From basic/layout.html -->
<script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
  
  
<script src="_static/underscore.js"></script>
  
  
<script src="_static/doctools.js"></script>
  
  
<script src="_static/language_data.js"></script>
  
  
<script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  </head><body class="bg-dark">

<header class="fixed-top header-top shadow-sm">
  <nav class="navbar navbar-expand-md navbar-light bg-white">
    <a class="navbar-brand" href="https://www.nengo.ai/">
      <img
        src="https://www.nengo.ai/design/_images/general-full-light.svg"
        alt="Nengo"
        class="logo"
      />
    </a>
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbar-collapse"
      aria-controls="navbar-collapse"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar-collapse">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="https://www.nengo.ai/">What is Nengo?</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://www.nengo.ai/examples/">Examples</a>
        </li>
        <li class="nav-item dropdown active">
          <a
            class="nav-link dropdown-toggle"
            id="navbar-dropdown-docs"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
            href="#"
            >Documentation</a
          >
          <div
            class="dropdown-menu shadow-lg border-0"
            aria-labelledby="navbar-dropdown-docs"
          >
            
            <a class="dropdown-item" href="https://www.nengo.ai/nengo/">Nengo Core</a>
            <a class="dropdown-item" href="https://github.com/nengo/nengo-gui/">Nengo GUI</a>
            <a class="dropdown-item" href="https://www.nengo.ai/nengo-dl/">Nengo DL</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="https://www.nengo.ai/nengo-spa/">Nengo SPA</a>
            <a class="dropdown-item" href="https://www.nengo.ai/nengo-extras/">Nengo Extras</a>
            <a class="dropdown-item" href="https://arvoelke.github.io/nengolib-docs/">Nengolib</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="https://www.nengo.ai/nengo-fpga/">Nengo FPGA</a>
            <a class="dropdown-item" href="https://www.nengo.ai/nengo-loihi/">Nengo Loihi</a>
            <a class="dropdown-item" href="https://github.com/nengo/nengo-ocl">Nengo OpenCL</a>
            <a class="dropdown-item" href="https://github.com/project-rig/nengo_spinnaker">Nengo SpiNNaker</a>
            <a class="dropdown-item" href="https://github.com/nengo/nengo-mpi">Nengo MPI</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="https://www.nengo.ai/documentation/"
              >All documentation</a
            >
          </div>
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            id="navbar-dropdown-community"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
            href="#"
            >Community</a
          >
          <div
            class="dropdown-menu shadow-lg border-0"
            aria-labelledby="navbar-dropdown-community"
          >
            <a class="dropdown-item" href="https://forum.nengo.ai">Forum</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="https://www.nengo.ai/people/"
              >People</a
            >
            <a class="dropdown-item" href="https://www.nengo.ai/summer-school/"
              >Summer school</a
            >
            <a class="dropdown-item" href="https://www.nengo.ai/contributing/"
              >Contributing</a
            >
            <a class="dropdown-item" href="https://www.nengo.ai/publications/"
              >Publications</a
            >
            <a class="dropdown-item" href="https://www.nengo.ai/videos/"
              >Videos</a
            >
            <a class="dropdown-item" href="https://www.nengo.ai/conduct/"
              >Code of conduct</a
            >
            <a class="dropdown-item" href="https://www.nengo.ai/caa/">CAA</a>
          </div>
        </li>
        <li class="nav-item">
          <a
            class="nav-link btn btn-success btn-sm text-white"
            href="https://www.nengo.ai/getting-started/"
            >Getting started</a
          >
        </li>
      </ul>
    </div>
  </nav>
</header>
<div class="main-content gradient-top">
  <div class="container-fluid">
    <div class="row"><a class="toggle-sidenav d-block d-md-none" href="#"
  ><i class="icon-close fa fa-fw fa-arrow-left"></i
  ><i class="icon-open fa fa-fw fa-arrow-right"></i
></a>
<div role="complementary" class="sidenav col-4 col-xl-3 p-0 border-right">
  <h3 class="pt-5 px-5">
    <a href="#">
      <img
        class="img-fluid documentation-image"
        src="https://www.nengo.ai/design/_images/general-square-light.svg"
        alt="pytest-plt"
      />
    </a>
  </h3>
<form class="px-5 py-3 my-0 border-bottom" action="search.html" method="get">
  <div class="form-group form-group-single">
    <input type="text" name="q" class="form-control" placeholder="Search" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <button type="submit" class="btn btn-link">
      <img src="https://www.nengo.ai/img/icon-search.svg" alt="Go" />
    </button>
  </div>
</form><div class="p-5 toctree">
  
    <ul>
<li><a class="reference internal" href="#">pytest-plt</a><ul>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#custom-filenames-and-extensions">Custom filenames and extensions</a></li>
<li><a class="reference internal" href="#using-plt-show">Using plt.show</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">Configuration</a><ul>
<li><a class="reference internal" href="#plt-filename-drop">plt_filename_drop</a></li>
<li><a class="reference internal" href="#plt-dirname">plt_dirname</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-reference">API reference</a></li>
</ul>
</li>
</ul>

  
  </div>
  
  <form class="p-5 my-0 border-top">
    <div class="form-group">
      <label class="text-gray">Version:</label>
      <select class="custom-select" onchange="switchVersion(this);">
        
        
        <option value="../index.html">latest</option>
        
        
          
        <option selected>v1.1.0</option>
          
        
          
        <option value="../v1.0.1/index.html">
          v1.0.1
        </option>
          
        
          
        <option value="../v1.0.0/index.html">
          v1.0.0
        </option>
          
        
      </select>
    </div>
  </form>
  
</div>
      

      <div class="col-12 col-md-8 col-xl-9">
        <div class="container">
          <div class="row">
            <div class="col-10 offset-1 pb-5 documentation-source" role="main">
              
  <div class="section" id="pytest-plt">
<h1>pytest-plt<a class="headerlink" href="#pytest-plt" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">pytest-plt</span></code> provides fixtures for
quickly creating Matplotlib plots in your tests.</p>
<p>Create PDF plots in one line with the <code class="docutils literal notranslate"><span class="pre">plt</span></code> fixture.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_rectification</span><span class="p">(</span><span class="n">plt</span><span class="p">):</span>
    <span class="n">values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
    <span class="n">rectified</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="p">]</span>
    <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">v</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">rectified</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Original&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rectified</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Rectified&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
<img alt="https://i.imgur.com/2BFq2G2.png" src="https://i.imgur.com/2BFq2G2.png" />
<p>To use these fixtures, install with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install pytest-plt
</pre></div>
</div>
<p>And pass the <code class="docutils literal notranslate"><span class="pre">--plots</span></code> option</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest --plots
</pre></div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">plt</span></code> fixture allows you to create PDF plots with as little as one line.
It exposes the <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code>
<a class="reference external" href="https://matplotlib.org/api/pyplot_summary.html">interface</a>.</p>
<p>When running your tests,
pass the <code class="docutils literal notranslate"><span class="pre">--plots</span></code> option (with optional directory name)
to generate the plots
(in this case, we save them to the “my_plots” directory):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest --plots my_plots
</pre></div>
</div>
<p>If no directory name is provided,
plots will be saved to the “plots” directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest --plots
</pre></div>
</div>
<p>If you do not pass the <code class="docutils literal notranslate"><span class="pre">--plots</span></code> option,
no Matplotlib commands will be executed,
speeding up test execution.</p>
<div class="section" id="custom-filenames-and-extensions">
<h3>Custom filenames and extensions<a class="headerlink" href="#custom-filenames-and-extensions" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pytest-plt</span></code> attempts to give each plot
a readable name without being too long.
Sometimes the default name is not good enough,
so <code class="docutils literal notranslate"><span class="pre">plt</span></code> allows you to change it using <code class="docutils literal notranslate"><span class="pre">plt.saveas</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_rectification</span><span class="p">(</span><span class="n">plt</span><span class="p">):</span>
    <span class="n">values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
    <span class="n">rectified</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="p">]</span>
    <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">v</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">rectified</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Original&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rectified</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Rectified&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">saveas</span> <span class="o">=</span> <span class="s2">&quot;test_rec.png&quot;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">plt.saveas</span></code> attribute contains the
filename that will appear in the plots directory.
You can modify this attribute within your test
to change the filename that will be used
to save the plot for a given test function.
In the above example, running pytest with
<code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">--plots</span> <span class="pre">my_plots</span></code> will result in
a <code class="docutils literal notranslate"><span class="pre">my_plots/test_rec.png</span></code> file.</p>
<p>It should be noted that the file extension
in <code class="docutils literal notranslate"><span class="pre">plt.saveas</span></code> will be used when saving the plot.
That is, in the example above,
the resulting plot will be a true PNG file,
not a PDF with an incorrect <code class="docutils literal notranslate"><span class="pre">.png</span></code> extension.
You can use the following snippet to change
the file extension in a specific test
if the PDF format is unsuitable.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">saveas</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.png&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">saveas</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],)</span>
</pre></div>
</div>
</div>
<div class="section" id="using-plt-show">
<h3>Using plt.show<a class="headerlink" href="#using-plt-show" title="Permalink to this headline">¶</a></h3>
<p>If you want to inspect a figure using
the GUI that pops up with <code class="docutils literal notranslate"><span class="pre">plt.show()</span></code>,
you can achieve this by saving a plot with the
<code class="docutils literal notranslate"><span class="pre">.pkl</span></code> or <code class="docutils literal notranslate"><span class="pre">.pickle</span></code> extension.
pytest-plt will pickle the current figure object
for later inspection.</p>
<p>Building on the previous example,
you can change the <code class="docutils literal notranslate"><span class="pre">saveas</span></code> attribute like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_rectification</span><span class="p">(</span><span class="n">plt</span><span class="p">):</span>
    <span class="n">values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
    <span class="n">rectified</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="p">]</span>
    <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">v</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">rectified</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Original&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rectified</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Rectified&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">saveas</span> <span class="o">=</span> <span class="s2">&quot;test_rec.pkl&quot;</span>
</pre></div>
</div>
<p>Then use the following snippet to inspect the figure.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;path/to/test_rec.pkl&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">fig</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>The following configuration options exist.</p>
<div class="section" id="plt-filename-drop">
<h3>plt_filename_drop<a class="headerlink" href="#plt-filename-drop" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">plt_filename_drop</span></code> accepts a list of regular expressions
for parts of the filename to drop.</p>
<p>By default, plot filenames contain the full <code class="docutils literal notranslate"><span class="pre">nodeid</span></code>
for the test in question,
with directory separators (<code class="docutils literal notranslate"><span class="pre">/</span></code>) replaced with dots (<code class="docutils literal notranslate"><span class="pre">.</span></code>).
If all tests reside in the same project directory,
that name will appear at the start of all plot filenames,
making them unnecessarily long.</p>
<p>In this case, we use the carat <code class="docutils literal notranslate"><span class="pre">^</span></code> to ensure that
our regex matches the start of the filename only,
and we remove the trailing dot as well (<code class="docutils literal notranslate"><span class="pre">\.</span></code>):</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">plt_filename_drop</span> <span class="o">=</span><span class="s"></span>
<span class="s">    ^project\.</span>
</pre></div>
</div>
<p>If your tests always reside in a directory with a particular name
(e.g. “tests”),
you can safely remove this name wherever it occurs.
In this case, we do not use the carat to allow the regex to match anywhere
in the filename.
Be careful, as this will match any directory
that ends with “tests” (e.g. “other_tests”),
and will remove the ends of these directory names.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">plt_filename_drop</span> <span class="o">=</span><span class="s"></span>
<span class="s">    ^project\.</span>
<span class="s">    tests\.</span>
</pre></div>
</div>
<p>When using <code class="docutils literal notranslate"><span class="pre">plt_filename_drop</span></code>, take care to avoid collisions
(situations where plots from two different tests
will end up with the same name).
In this case, the plots of later tests
will override those of earlier tests with the same name.</p>
</div>
<div class="section" id="plt-dirname">
<h3>plt_dirname<a class="headerlink" href="#plt-dirname" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">plt_dirname</span></code> changes the default directory name for output plots.</p>
<p>The default <code class="docutils literal notranslate"><span class="pre">plt_dirname</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;plots&quot;</span></code>.
To change it to <code class="docutils literal notranslate"><span class="pre">&quot;test_plots&quot;</span></code>, for example, add the following
to your <code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code>.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">plt_dirname</span> <span class="o">=</span> <span class="s">test_plots</span>
</pre></div>
</div>
<p>A directory provided at the command line with the <code class="docutils literal notranslate"><span class="pre">--plots</span></code> flag
takes priority over <code class="docutils literal notranslate"><span class="pre">plt_dirname</span></code>.</p>
</div>
</div>
<div class="section" id="api-reference">
<h2>API reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pytest_plt.plugin.plt">
<code class="sig-prename descclassname">pytest_plt.plugin.</code><code class="sig-name descname">plt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">request</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_plt/plugin.html#plt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_plt.plugin.plt" title="Permalink to this definition">¶</a></dt>
<dd><p>A pyplot-compatible plotting interface.</p>
<p>Use this to create plots in your tests using the <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code>
interface.</p>
<p>This will keep saved plots organized in a simulator-specific folder,
with an automatically generated name. <code class="docutils literal notranslate"><span class="pre">savefig()</span></code> and <code class="docutils literal notranslate"><span class="pre">close()</span></code> will
automatically be called when the test function completes.</p>
<p>If you need to override the default filename, set <code class="docutils literal notranslate"><span class="pre">plt.saveas</span></code> to
the desired filename. Be sure to include a file extension, as it will
be used as is.</p>
</dd></dl>

</div>
</div>


            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div><footer class="text-light footer-main gradient-bottom">
  <p class="small text-center mb-0">
    <a class="no-hover-line" href="https://appliedbrainresearch.com">
      <img
        src="https://appliedbrainresearch.com/img/logo-blue-notext.svg"
        height="48"
      />
    </a>
    <a href="https://www.nengo.ai/">What is Nengo?</a>
    <a href="https://www.nengo.ai/examples/">Examples</a>
    <a href="https://www.nengo.ai/documentation/">Documentation</a>
    <a href="https://www.nengo.ai/getting-started/">Getting started</a>
    <a href="https://www.nengo.ai/privacy/">Privacy</a>
  </p>
  <p class="small text-center mb-0">&copy; Applied Brain Research</p>
</footer>
<script>
  function switchVersion(select) {
    var option = select.selectedOptions[0];
    if (option.hasAttribute("value")) {
      window.location = option.value;
    }
  }
</script>

<script>
  var elements = document.querySelectorAll('.sidenav');
  Stickyfill.add(elements);
</script>
<script>
  ScrollReveal().reveal(".fade-in", {
      scale: 0.85,
      duration: 1000,
      delay: 250,
      interval: 50
  });
</script>
<script>
  $('a.toggle-sidenav').on('click', function(e) {
    e.preventDefault();
    if ( $(this).hasClass('active') ) {
      $(this).removeClass('active');
      $('.sidenav').removeClass('open');
    } else {
      $(this).addClass('active');
      $('.sidenav').addClass('open');
    }
  });
</script>
<script>
  var lists = document.querySelectorAll('.toctree ul');
  lists.forEach((ul) => {
      ul.classList.add("nav");
  });
  var links = document.querySelectorAll('.toctree a');
  links.forEach((link) => {
      link.classList.add("nav-link");
  });
  $("body").scrollspy({target: ".sidenav"});
</script>
  </body>
</html>